<!DOCTYPE html>
<html lang="en-us">

<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/style.css">
    <title>GifTastic</title>
</head>

<body>
    <h1>GIFTASTIC</h1>
    <!-- <div id="buttons">
    <button data-parent="spaghetti">
    Spaghetti</button>
     
    <button data-parent="pineapple">
    Pineapple</button>
     
    <button data-parent="banana">
    Banana</button>
     
    <button data-parent="hotdog">
    Hotdog</button>

    <button data-parent="ice cream">
    Ice Cream</button>

    <button data-parent="avocado">
    Avocado</button>

    <button data-parent="chocolate">
    Chocolate</button>

    <button data-parent="sweet potato">
    Sweet Potato</button>

    <button data-parent="salad">
    Salad</button>

    <button data-parent="taco">
    Taco</button> -->

    <!-- </div> -->
    <div id="buttons"></div>

    <div id="appear"> HALLPPP</div>


        
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
    var topics =[
        "spaghetti",
        "pineapple",
        "banana",
        "hotdog",
        "ice cream",
        "avocado",
        "chocolate",
        "sweet potato",
        "salad",
        "taco"
    ]
    function createButtons(){
    //     topics.forEach(function(topics){
    //         var button = $("<button class= "search-term">");
    //         button.html(topics);

    //         $("buttons").append(button);
    //     });
        var buttonList = $("#buttons");
        
        for(var a = 0; a<topics.length; a++){
            var newButton = $("<button>").text(topics[a]);
        
            buttonList.append(newButton);

            newButton.addClass("btn btn-outline-dark");
            
            console.log(topics[a]);
        }
       
    }
    createButtons();

    // var appear = $("#appear");
 

    $("button").on("click", function() {
        var topic = $(this).attr("button");

        // var topic = 

        var queryURL = "https://api.giphy.com/v1/gifs/search?q="+topic+
        "&api_key=M5wy8o0vlHnxMoy0XEYEpzWSvCSJMB1A&limit=10";

      $.ajax({
        url: queryURL,
        method: "GET"
      })
        .then(function(response) {

            console.log("working");
            var results = response.data;
            console.log(results);

           
        
            
            for (var i = 0; i < results.length; i++) {
                var newGif = $("<div id='appear-here'>").html(results);
                // gifs.append(newGif);
                console.log(newGif);

                var rating = results[i].rating;
                var gifs = $("<div class='gifs'>");
                var appear = $("#appear");
                var ratingClass = $("<p class='r'>")
                var ratingTitle = $("<div class='ratingTitle'>")

                // $("<p>").text("Rating: " + rating);
                console.log(rating);

                // var image = $("<img>");
                // image.attr("src", results[i].images.fixed_height.url);

                // image.html(newGif);

                // gifs.prepend(image);
                // gifDiv.prepend(p);
                // gifDiv.prepend(Image);

            }
            appear.append(gifs);
            gifs.append(image);
            // image.append(ratingTitle);
            // ratingTitle.append(ratingClass);



            
        });

       


    });

</script>
</body>

</html>